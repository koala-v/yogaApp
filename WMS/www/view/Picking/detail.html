<ion-view title="Picking-Detail">
    <ion-header-bar class="bar-positive" align-title="center">
        <button class="button button-icon icon ion-android-arrow-back" ng-click="returnList()"></button>
        <div class="h1 title">Pick List</div>
        <button class="button button-icon icon ion-android-open" ng-click="openModal()"></button>
    </ion-header-bar>
    <ion-content>
        <!-- <div style="height: 43px;"></div> -->
        <div class="list card">
            <div class="item item-body" style="padding:8px;">
                <div class="list">
                    <label class="item item-input" style="padding-left:6px;">
                        <span class="input-label col-33" style="padding-top:2px; padding-bottom: 2px; font-size: x-small;">
                            Store No
                        </span>&nbsp;:&nbsp;
                        <span style="font-size: medium;" ng-bind="Detail.Imgi2.StoreNo"></span>
                    </label>
                    <label class="item item-input" style="padding-left:6px;">
                        <span class="input-label col-33" style="padding-top:2px; padding-bottom: 2px; font-size: x-small;">
                            Product Code
                        </span>&nbsp;:&nbsp;
                        <span style="font-size: medium;" ng-bind="Detail.Imgi2.ProductCode"></span>
                    </label>
                    <label class="item item-input" style="padding-left:6px;">
                        <span class="input-label col-33" style="padding-top:2px; padding-bottom: 2px; font-size: x-small;">
                            Description
                        </span>&nbsp;:&nbsp;
                        <span style="font-size: medium;" ng-bind="Detail.Imgi2.ProductDescription | limitTo:18"></span>
                    </label>
                    <label class="item item-input" style="padding-left:6px;" ng-if="Detail.Imgi2.SerialNoFlag != ''">
                        <span class="input-label col-33" style="padding-top:2px; padding-bottom: 2px; font-size: x-small;">
                            Serial No
                        </span>&nbsp;:&nbsp;
                        <span style="font-size: medium;" ng-bind="Detail.Imgi2.SerialNo | limitTo:18"></span>
                    </label>
                    <label class="item item-input" style="padding-left:6px;">
                        <span class="input-label col-50" style="padding-top:2px; padding-bottom: 2px; font-size: x-small; min-width:60%;">
                            Qty To Issue&nbsp;&nbsp;:&nbsp;&nbsp;
                            <span style="font-size: medium;font-weight:bold;" ng-bind="Detail.Imgi2.Qty"></span>
                        </span>
                        <span class="input-label" style="padding-top:2px; padding-bottom: 2px; font-size: x-small;">
                            BAL&nbsp;&nbsp;:&nbsp;&nbsp;
                            <span style="font-size: medium;font-weight:bold;color:red;" ng-bind="Detail.Imgi2.QtyBal"></span>
                        </span>
                    </label>
                    <div class="row">

                        <div class="col col-80" style="padding:0px;">
                            <div class="row">
                                <div class="col col-60" style="padding:18px;padding-bottom: 2px;color:blue" ng-click="ListImgi3(Detail.Imgi2)">
                                    Carton No&nbsp;&nbsp;:
                                </div>
                                <div class="col col-30">
                                    <label class="item item-input">
                                        <input type="text" id="txt-packing" ng-model="Detail.Scan.PackingNo" ng-keypress="enter($event, 'PackingNo')">
                                    </label>
                                </div>

                            </div>

                            <!-- <label class="item item-input">
                              <span  style="padding:2px;padding-bottom: 2px;">Carton No&nbsp;&nbsp;:&nbsp;&nbsp;</span>
                                <input type="text" id="txt-packing" ng-model="Detail.Scan.PackingNo" ng-keypress="enter($event, 'PackingNo')">
                            </label> -->

                        </div>

                        <div class="col col-10">
                            <button class="button button-clear button-positive button-small" ng-click="openCam('PackingNo')"><i class="icon ion-qr-scanner"></i></button>
                        </div>
                        <div class="col">
                            <button class="button button-clear button-positive button-small" ng-click="clearInput('PackingNo')"><i class="icon ion-android-close"></i></button>
                        </div>
                    </div>

                    <!-- <button class="button  button-positive button-small icon ion-arrow-return-right" ng-click="openModalImgi3(Detail.Imgi2)">
                        &nbsp;split
                    </button> -->
                    <hr style="margin: 0;" />
                    <div class="row">
                        <div class="col col-80" style="padding:0px;">
                            <!-- <label class="item item-input">
                                <span class="input-label" style="padding-top:2px; padding-bottom: 2px;">CartonNoList&nbsp;&nbsp;:&nbsp;</span>
                              <p><span ng-bind="Detail.DetailPackingNoList" style="    white-space: normal;"></span>
                               <input type="text" id="txt-storeno" ng-model="Detail.DetailPackingNoList" ng-keypress="enter($event, 'storeno')" readonly>
                                </label> -->

                            <label class="item item-input">
                                <span class="input-label" style="padding-top:2px; padding-bottom: 2px; min-width:85%;">CartonNoList&nbsp;&nbsp;:&nbsp;&nbsp;
                                        <span id="" style="white-space: normal;" ng-bind="Detail.DetailPackingNoList"></span>
                                </span>
                            </label>
                        </div>
                    </div>
                    <hr style="margin: 0;" />
                    <div class="row">
                        <div class="col col-80" style="padding:0px;">
                            <label class="item item-input">
                                <span class="input-label" style="padding-top:2px; padding-bottom: 2px;">Store No&nbsp;&nbsp;:&nbsp;&nbsp;</span>
                                <input type="text" id="txt-storeno" ng-model="Detail.Imgi2.StoreNo" ng-keypress="enter($event, 'storeno')" readonly>
                                <!-- <input type="text" id="txt-storeno" ng-model="$scope.Detail.Scan.StoreNo" ng-keypress="enter($event, 'storeno')" readonly> -->
                                <!--yicong20161209 StoreNo if you want to convert into editable, as well as the picking, js. All the Detail inside. Imgi2 StoreNo into $scope. The Detail. Scan. StoreNo" -->
                            </label>
                        </div>
                        <!-- <div class="col col-10">
                            <button class="button button-clear button-positive button-small" ng-click="openCam('StoreNo')"><i class="icon ion-qr-scanner"></i></button>
                        </div>
                        <div class="col">
                            <button class="button button-clear button-positive button-small" ng-click="clearInput('StoreNo')"><i class="icon ion-android-close"></i></button>
                        </div> -->
                    </div>
                    <hr style="margin: 0;" />
                    <div class="row">
                        <div class="col col-80" style="padding:0px;">
                            <label class="item item-input">
                                <span class="input-label" style="padding-top:2px; padding-bottom: 2px;">BarCode&nbsp;&nbsp;:&nbsp;&nbsp;</span>
                                <input type="text" id="txt-barcode" ng-model="Detail.Scan.BarCode" ng-keypress="enter($event, 'barcode')">
                            </label>
                        </div>
                        <div class="col col-10">
                            <button class="button button-clear button-positive button-small" ng-click="openCam('BarCode')"><i class="icon ion-qr-scanner"></i></button>
                        </div>
                        <div class="col">
                            <button class="button button-clear button-positive button-small" ng-click="clearInput('BarCode')"><i class="icon ion-android-close"></i></button>
                        </div>
                    </div>
                    <hr style="margin: 0;" />
                    <div class="row" ng-show="Detail.Imgi2.SerialNoFlag != ''">
                        <div class="col col-80" style="padding:0px;">
                            <label class="item item-input">
                                <span class="input-label" style="padding-top:2px; padding-bottom: 2px;">Serial No&nbsp;&nbsp;:&nbsp;&nbsp;</span>
                                <input type="text" id="txt-sn" ng-model="Detail.Scan.SerialNo" ng-keypress="enter($event, 'serialno')">
                            </label>
                        </div>
                        <div class="col col-10">
                            <button class="button button-clear button-positive button-small" ng-click="openCam('SerialNo')"><i class="icon ion-qr-scanner"></i></button>
                        </div>
                        <div class="col">
                            <button class="button button-clear button-positive button-small" ng-click="clearInput('SerialNo')"><i class="icon ion-android-close"></i></button>
                        </div>
                    </div>
                    <label class="item item-input">
                        <span class="input-label" style="padding-top:2px; padding-bottom: 2px; min-width:85%;">Qty&nbsp;&nbsp;:&nbsp;&nbsp;
                            <span id="txt-qty" style="font-weight:bold;" ng-bind="Detail.Scan.Qty"></span>
                        </span>
                        <button class="button button-clear button-positive button-small" ng-click="changeQty()"><i class="icon ion-android-create"></i></button>
                    </label>
                </div>

            </div>
        </div>
    </ion-content>

    <!-- <div class="button-bar">
              <button class="button icon ion-android-arrow-dropleft" ng-click="">
              split
              </button>
          </div> -->

    <ion-footer-bar class="bar-positive">
        <div class="button-bar">
            <button class="button icon ion-android-arrow-dropleft" ng-click="showPrev()">
                Previous
            </button>
            <button class="button icon ion-android-arrow-dropright" ng-show="Detail.blnNext" ng-click="showNext()">
                Next
            </button>

            <button class="button icon ion-android-done" ng-show="!Detail.blnNext" ng-click="checkConfirm()">
                Confirm
            </button>
            <!-- <button class="button icon ion-arrow-return-right" ng-click="returnList()">
                Cancel
              </button> -->
            <button class="button icon ion-arrow-expand" ng-click="openModalImgi3(Detail.Imgi2)">
                Split
            </button>
        </div>

    </ion-footer-bar>
    <script id="scan.html" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar class="bar-positive" align-title="center">
                <div class="h1 title">Picking Detail</div>
            </ion-header-bar>
            <ion-content>
                <ion-list>
                    <div class="card" ng-repeat="Imgi2 in Detail.Imgi2sDb">
                        <div class="item item-input">
                            <div class="col-33">
                                <p>Store No<span class="pull-right">:&nbsp;</span></p>
                            </div>
                            <div class="col-67">
                                <div class="item-text-wrap">
                                    <p>
                                        <span ng-bind="Imgi2.StoreNo"></span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="item item-input">
                            <div class="col-33">
                                <p>BarCode<span class="pull-right">:&nbsp;</span></p>
                            </div>
                            <div class="col-67">
                                <div class="item-text-wrap">
                                    <p>
                                        <span ng-bind="Imgi2.BarCode"></span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="item item-input">
                            <div class="col-33">
                                <p>Product Code<span class="pull-right">:&nbsp;</span></p>
                            </div>
                            <div class="col-67">
                                <div class="item-text-wrap">
                                    <p>
                                        <span ng-bind="Imgi2.ProductCode"></span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="item item-input" ng-if="Imgi2.SerialNoFlag != ''">
                            <div class="col-33">
                                <p>Serial No<span class="pull-right">:&nbsp;</span></p>
                            </div>
                            <div class="col-67">
                                <div class="item-text-wrap">
                                    <p>
                                        <span ng-bind="Imgi2.SerialNo"></span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="item item-input">
                            <div class="col-33">
                                <p>Scan Qty<span class="pull-right">:&nbsp;</span></p>
                            </div>
                            <div class="col-67">
                                <div class="item-text-wrap">
                                    <p>
                                        <span ng-bind="Imgi2.ScanQty"></span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="item item-input">
                            <div class="col-33">
                                <p>Actual Qty<span class="pull-right">:&nbsp;</span></p>
                            </div>
                            <div class="col-67">
                                <div class="item-text-wrap">
                                    <p>
                                        <span ng-bind="Imgi2.Qty"></span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <label class="item item-input item-select">
                            <div class="col col-33" style="padding-top:2px; padding-bottom: 2px; min-width:85%;">
                                <label>Status:</label>
                            </div>
                            <div class="col col-67" ng-show="true">
                                <select ng-model="Imgi2.QtyStatus" ng-options="item for item in StatusAll"></select>
                            </div>
                        </label>
                    </div>
                </ion-list>
            </ion-content>
            <ion-footer-bar class="bar-positive">
                <div class="button-bar">
                    <button class="button icon ion-arrow-return-right" ng-click="closeModal()">&nbsp;Return</button>
                </div>
            </ion-footer-bar>
        </ion-modal-view>
    </script>
    <script id="Imgi3.html" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar class="bar-positive" align-title="center">
                <div class="h1 title">Carton Detail</div>
            </ion-header-bar>
            <ion-content>
                <!-- <div style="height: 43px;"></div> -->
                <!-- <div class="list card" ng-repeat="Imgi3 in Detail.imgi3">
                  <div class="item item-body" style="padding:8px;"> -->
                <ion-list>
                    <div class="card" ng-repeat="Imgi3 in Detail.imgi3">
                        <div>
                            <label class="item item-input" style="padding-left:6px;">
                                <span class="input-label col-33" style="padding-top:2px; padding-bottom: 2px; font-size: x-small;">
                                  Product Code
                              </span>&nbsp;:&nbsp;
                                <span style="font-size: medium;" ng-bind="Imgi3.ProductCode"></span>
                            </label>
                        </div>
                        <div class="row">
                            <div class="col col-80" style="padding:0px;">
                                <label class="item item-input">
                                    <span class="input-label" style="padding-top:2px; padding-bottom: 2px;">Carton No&nbsp;&nbsp;:&nbsp;&nbsp;</span>
                                    <input type="text" id="txt-packing" ng-model="Imgi3.PackingNo" ng-keypress="enter($event, 'PackingNo')">
                                </label>
                            </div>
                            <!-- <div class="col col-10">
                                  <button class="button button-clear button-positive button-small" ng-click="openCam('PackingNo')"><i class="icon ion-qr-scanner"></i></button>
                              </div>
                              <div class="col">
                                  <button class="button button-clear button-positive button-small" ng-click="clearInput('PackingNo')"><i class="icon ion-android-close"></i></button>
                              </div> -->
                        </div>
                        <hr style="margin: 0;" />
                        <label class="item item-input">
                            <span class="input-label" style="padding-top:2px; padding-bottom: 2px; min-width:85%;">Qty&nbsp;&nbsp;:&nbsp;&nbsp;
                                  <span id="txt-qty" style="font-weight:bold;" ng-bind="Imgi3.Qty"></span>
                            </span>
                            <button class="button button-clear button-positive button-small" ng-click="changeImgi3Qty(Imgi3)"><i class="icon ion-android-create"></i></button>
                        </label>
                    </div>
                    <!-- </div>
              </div> -->
                </ion-list>
            </ion-content>
            <ion-footer-bar class="bar-positive">
                <div class="button-bar">
                    <button class="button icon ion-arrow-return-right" ng-click="closeModalImgi3(Detail.Imgi2)">
                        &nbsp;Cancel
                    </button>
                </div>
            </ion-footer-bar>
        </ion-modal-view>
    </script>
</ion-view>
